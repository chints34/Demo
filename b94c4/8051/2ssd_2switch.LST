A51 MACRO ASSEMBLER  2SSD_2SWITCH                                                         03/10/2002 08:45:08 PAGE     1


MACRO ASSEMBLER A51 V7.08a
OBJECT MODULE PLACED IN 2ssd_2switch.OBJ
ASSEMBLER INVOKED BY: C:\Keil2\C51\BIN\A51.EXE 2ssd_2switch.asm SET(SMALL) DEBUG EP

LOC  OBJ            LINE     SOURCE

                       1     ;$include (DELAY.ASM)
                +1     2     DELAY_ROUTINES SEGMENT CODE
----            +1     3     RSEG DELAY_ROUTINES
0000            +1     4     DELAY1MS:
0000 7EFF       +1     5     MOV R6,#255
0002 DEFE       +1     6     DJNZ R6,$
0004 7EF2       +1     7     MOV R6,#242
0006 DEFE       +1     8     DJNZ R6,$
0008 22         +1     9     RET
0009            +1    10     DELAY100MS:
0009 7F63       +1    11     MOV R7,#99
000B            +1    12     L1:
000B 1100     F +1    13     ACALL DELAY1MS
000D DFFC       +1    14     DJNZ R7,L1
000F 7FFF       +1    15     MOV R7,#255
0011 DFFE       +1    16     DJNZ R7,$
0013 7F8E       +1    17     MOV R7,#142
0015 DFFE       +1    18     DJNZ R7,$
0017 00         +1    19     NOP
0018 22         +1    20     RET
                +1    21     
                      22     
                      23     ;$include (SEG_2.ASM)
                +1    24     
                +1    25     SEVSEG SEGMENT CODE
----            +1    26     RSEG SEVSEG
0000 40         +1    27     SEG_LUT:DB 40H;0
0001 79         +1    28             DB 79H;1
0002 24         +1    29             DB 24H;2
0003 30         +1    30             DB 30H;3
0004 19         +1    31             DB 19H;4
0005 12         +1    32             DB 12H;5
0006 02         +1    33             DB 02H;6
0007 78         +1    34             DB 78H;7
0008 00         +1    35             DB 00H;8
  0080          +1    36     SEG1 EQU P0
  00A0          +1    37     SEG2 EQU P2
0009            +1    38     DISP_2_SEGS:
0009 EC         +1    39     MOV A,R4;2-digit decimel
000A 75F00A     +1    40     MOV B,#10
000D 84         +1    41     DIV AB;DIVIDE BY 10,A=Q,B=R
000E 93         +1    42     MOVC A,@A+DPTR
000F F580       +1    43     MOV SEG1,A
0011 E5F0       +1    44     MOV A,B
0013 93         +1    45     MOVC A,@A+DPTR
0014 F5A0       +1    46     MOV SEG2,A
0016 22         +1    47     RET
                      48     
  00B0                49     SW1 BIT P3.0
  00B1                50     SW2 BIT P3.1
----                  51     CSEG AT 0
0000                  52     MAIN:
0000 758040           53     MOV SEG1,#40H
0003 75A040           54     MOV SEG2,#40H
0006 900000   F       55     MOV DPTR,#SEG_LUT
0009 7C00             56     MOV R4,#0
000B                  57     AGAIN:
000B 30B10E           58     JNB SW2,AGAIN2
A51 MACRO ASSEMBLER  2SSD_2SWITCH                                                         03/10/2002 08:45:08 PAGE     2

000E 20B0FA           59     JB SW1,AGAIN
0011 0C               60     INC R4
0012 1100     F       61     ACALL DISP_2_SEGS
0014 30B0FD           62     JNB SW1,$
0017 BC3CF1           63     CJNE R4,#60,AGAIN
001A 80E4             64     SJMP MAIN
001C                  65     AGAIN2:
001C 30B1FD           66     JNB SW2,$
001F                  67     AGAIN3:
001F 1100     F       68     ACALL DISP_2_SEGS
0021 1100     F       69     ACALL DELAY100MS
0023 1100     F       70     ACALL DELAY100MS
0025 1100     F       71     ACALL DELAY100MS
0027 1100     F       72     ACALL DELAY100MS
0029 1100     F       73     ACALL DELAY100MS
002B 1100     F       74     ACALL DELAY100MS
002D 1100     F       75     ACALL DELAY100MS
002F 1100     F       76     ACALL DELAY100MS
0031 1100     F       77     ACALL DELAY100MS
0033 1100     F       78     ACALL DELAY100MS
                      79     
0035 DCE8             80     DJNZ R4,AGAIN3
0037 80C7             81     SJMP MAIN
                      82     END
A51 MACRO ASSEMBLER  2SSD_2SWITCH                                                         03/10/2002 08:45:08 PAGE     3

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

AGAIN. . . . . . .  C ADDR   000BH   A   
AGAIN2 . . . . . .  C ADDR   001CH   A   
AGAIN3 . . . . . .  C ADDR   001FH   A   
B. . . . . . . . .  D ADDR   00F0H   A   
DELAY100MS . . . .  C ADDR   0009H   R   SEG=DELAY_ROUTINES
DELAY1MS . . . . .  C ADDR   0000H   R   SEG=DELAY_ROUTINES
DELAY_ROUTINES . .  C SEG    0019H       REL=UNIT
DISP_2_SEGS. . . .  C ADDR   0009H   R   SEG=SEVSEG
L1 . . . . . . . .  C ADDR   000BH   R   SEG=DELAY_ROUTINES
MAIN . . . . . . .  C ADDR   0000H   A   
P0 . . . . . . . .  D ADDR   0080H   A   
P2 . . . . . . . .  D ADDR   00A0H   A   
P3 . . . . . . . .  D ADDR   00B0H   A   
SEG1 . . . . . . .  D ADDR   0080H   A   
SEG2 . . . . . . .  D ADDR   00A0H   A   
SEG_LUT. . . . . .  C ADDR   0000H   R   SEG=SEVSEG
SEVSEG . . . . . .  C SEG    0017H       REL=UNIT
SW1. . . . . . . .  B ADDR   00B0H.0 A   
SW2. . . . . . . .  B ADDR   00B0H.1 A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
