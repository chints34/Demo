C51 COMPILER V7.08   TIMERCLOCK                                                            11/19/2013 15:17:10 PAGE 1   


C51 COMPILER V7.08, COMPILATION OF MODULE TIMERCLOCK
OBJECT MODULE PLACED IN C:\ISP'S\SP_ISP\bin\timerclock.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE timerclock.c BROWSE DEBUG OBJECTEXTEND OBJECT(C:\ISP'S\SP_ISP\bin\timercloc
                    -k.obj)

line level    source

   1          #include<reg51.h>
   2          #include"lcd.h"
   3          #include"delay.h"
   4          //#include"delay.c"
   5          //#include"lcd.c"
   6          
   7          unsigned char hrs=11 , mins=50, secs=50;
   8          sbit sw1=P3^0;
   9          sbit sw2=P3^1;
  10          sbit sw3=P3^2;
  11          sbit sw4=P3^3;
  12          
  13          
  14          
  15          
  16          
  17          
  18          
  19          void time()
  20          {
  21   1      
  22   1                      cmd_lcd(0x01);
  23   1                      disp_lcd((hrs/10)+48);
  24   1                      disp_lcd((hrs%10)+48);
  25   1                      disp_lcd(':');
  26   1      
  27   1                      disp_lcd((mins/10)+48);
  28   1                      disp_lcd((mins%10)+48);
  29   1                      disp_lcd(':');
  30   1      
  31   1                      disp_lcd((secs/10)+48);
  32   1                      disp_lcd((secs%10)+48);
  33   1      }
  34          
  35          
  36          
  37          main()
  38          {
  39   1                      unsigned int cnt=0;
  40   1                      init_lcd();
  41   1                      while(1)
  42   1                      {
  43   2      main1:
  44   2                              time();
  45   2                              
  46   2                              delay_1ms(982);
  47   2                              secs++;
  48   2                              
  49   2                              if(secs>59)
  50   2                              {
  51   3                                      if(sw4==0)
  52   3                                      {
  53   4                                              //while(!sw4);
  54   4                                              secs=secs;
C51 COMPILER V7.08   TIMERCLOCK                                                            11/19/2013 15:17:10 PAGE 2   

  55   4                                              goto l1;        
  56   4                                      }
  57   3                                      secs=0;
  58   3                                      mins++;
  59   3                                      if(sw1==0)
  60   3                                      goto l1;
  61   3                                      if(mins>59)
  62   3                                      {
  63   4                                              mins=0;
  64   4                                      if(sw1==0)
  65   4                                              {
  66   5                                      goto l1;
  67   5                                              //secs=secs;
  68   5                                              }
  69   4                                              hrs++;
  70   4                                              if(hrs>23)
  71   4                                      {
  72   5                                      if(sw1==0)
  73   5                                      
  74   5                                              goto l1;
  75   5                                              hrs=0;
  76   5                                              }
  77   4                                      }
  78   3                              }
  79   2      
  80   2      l1:                     if(sw1==0)
  81   2                                      {
  82   3                                      while(sw1==0);          
  83   3                                       cnt++;
  84   3                                      delay_1ms(100);
  85   3                                              }
  86   2                                              if(sw4==0)
  87   2                                      {
  88   3                                              while(!sw4);
  89   3                                              secs=secs;      
  90   3                                      }
  91   2                                      if(cnt==1)
  92   2                                      goto hours;
  93   2      
  94   2                                      else if(cnt==2)
  95   2                                      goto minits;
  96   2      
  97   2                                      else if(cnt==3)
  98   2                                      goto seconds;
  99   2                                      
 100   2                                      else if(cnt==4)
 101   2                                              cnt=0;
 102   2                                              
 103   2      
 104   2                      }
 105   1      hours:
 106   1      if(sw2==0)
 107   1              {
 108   2                                      while(sw2==0);          
 109   2                                      hrs++;
 110   2              }
 111   1                      time();
 112   1                      
 113   1       if(sw3==0)
 114   1                      {
 115   2      
 116   2                                      while(sw3==0);          
C51 COMPILER V7.08   TIMERCLOCK                                                            11/19/2013 15:17:10 PAGE 3   

 117   2                              hrs--;
 118   2                      }
 119   1                              time();
 120   1                              goto main1;
 121   1      minits:
 122   1      
 123   1      if(sw2==0)
 124   1              {
 125   2                      while(sw2==0);
 126   2                      mins++;
 127   2              }
 128   1                      time();
 129   1       if(sw3==0)
 130   1              {
 131   2                      while(sw2==0);
 132   2                      mins--;
 133   2              }
 134   1                              time();
 135   1                              goto main1;
 136   1      
 137   1      
 138   1      seconds:
 139   1      
 140   1      if(sw2==0)
 141   1              {
 142   2                      while(sw2==0);
 143   2                      secs++;
 144   2              }
 145   1                      time();
 146   1       if(sw3==0)
 147   1              {
 148   2                      while(sw2==0);
 149   2                      secs--;
 150   2              }
 151   1                              time();
 152   1                              goto main1;
 153   1      
 154   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    304    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      3       2
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
