C51 COMPILER V7.08   AT24C01                                                               12/20/2013 14:29:26 PAGE 1   


C51 COMPILER V7.08, COMPILATION OF MODULE AT24C01
OBJECT MODULE PLACED IN at24c01.OBJ
COMPILER INVOKED BY: C:\Keil2\C51\BIN\C51.EXE at24c01.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          #include"delay.h"
   2          void eeprom_write(unsigned char sa,unsigned char add,unsigned char dat)
   3          {
   4   1              i2c_start();
*** WARNING C206 IN LINE 4 OF AT24C01.C: 'i2c_start': missing function-prototype
   5   1              i2c_write(sa);
*** WARNING C206 IN LINE 5 OF AT24C01.C: 'i2c_write': missing function-prototype
*** ERROR C267 IN LINE 5 OF AT24C01.C: 'i2c_write': requires ANSI-style prototype
   6   1              i2c_ack();
   7   1              i2c_write(add);
   8   1              i2c_ack();
   9   1              i2c_write(dat);
  10   1              i2c_ack();
  11   1              i2c_stop();
  12   1              delay_ms(10);
  13   1      }
  14          
  15          
  16          unsigned  eeprom_read(unsigned char sa,unsigned char add)
  17          {
  18   1              unsigned char buff;
  19   1              i2c_start();
  20   1              i2c_write(sa);
  21   1              i2c_ack();
  22   1              i2c_write(add);
  23   1              i2c_ack();
  24   1              i2c_start();
  25   1              i2c_write(sa|0x01);
  26   1              i2c_ack();
  27   1              buff=i2c_read();
  28   1              i2c_noack();
  29   1              i2c_stop();
  30   1              return(buff);
  31   1      }

C51 COMPILATION COMPLETE.  2 WARNING(S),  1 ERROR(S)
