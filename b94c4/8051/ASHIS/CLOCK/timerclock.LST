C51 COMPILER V7.08   TIMERCLOCK                                                            11/27/2013 13:51:23 PAGE 1   


C51 COMPILER V7.08, COMPILATION OF MODULE TIMERCLOCK
OBJECT MODULE PLACED IN C:\ISP's\SP_ISP\timerclock.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE timerclock.c BROWSE DEBUG OBJECTEXTEND OBJECT(C:\ISP's\SP_ISP\timerclock.ob
                    -j)

line level    source

   1          #include<reg51.h>
   2          #include"lcd.h"
   3          //#include"delay.h"
   4          //#include"delay.c"
   5          //#include"lcd.c"
   6          #include"delay.h"
   7          unsigned char hrs=11 , mins=50, secs=50;
   8          sbit sw1=P3^0;
   9          sbit sw2=P3^1;
  10          sbit sw3=P3^2;
  11          sbit sw4=P3^3;
  12          
  13          
  14          
  15          
  16          void time()
  17          {
  18   1      
  19   1                      cmd_lcd(0x01);
  20   1                      disp_lcd((hrs/10)+48);
  21   1                      disp_lcd((hrs%10)+48);
  22   1                      disp_lcd(':');
  23   1      
  24   1                      disp_lcd((mins/10)+48);
  25   1                      disp_lcd((mins%10)+48);
  26   1                      disp_lcd(':');
  27   1      
  28   1                      disp_lcd((secs/10)+48);
  29   1                      disp_lcd((secs%10)+48);
  30   1      }
  31          
  32          
  33          
  34          main()
  35          {
  36   1                      unsigned int cnt=0;
  37   1                      init_lcd();
  38   1                      while(1)
  39   1                      {
  40   2      main1:
  41   2                              time();
  42   2                              
  43   2                              delay_ms(982);
  44   2                              secs++;
  45   2                              
  46   2                              if(secs>59)
  47   2                              {
  48   3                                      if(sw4==0)
  49   3                                      {
  50   4                                              //while(!sw4);
  51   4                                              secs=secs;
  52   4                                              goto l1;        
  53   4                                      }
  54   3                                      secs=0;
C51 COMPILER V7.08   TIMERCLOCK                                                            11/27/2013 13:51:23 PAGE 2   

  55   3                                      mins++;
  56   3                                      if(sw1==0)
  57   3                                      goto l1;
  58   3                                      if(mins>59)
  59   3                                      {
  60   4                                              mins=0;
  61   4                                      if(sw1==0)
  62   4                                              {
  63   5                                      goto l1;
  64   5                                              //secs=secs;
  65   5                                              }
  66   4                                              hrs++;
  67   4                                              if(hrs>23)
  68   4                                      {
  69   5                                      if(sw1==0)
  70   5                                      
  71   5                                              goto l1;
  72   5                                              hrs=0;
  73   5                                              }
  74   4                                      }
  75   3                              }
  76   2      
  77   2      l1:                     if(sw1==0)
  78   2                                      {
  79   3                                      while(sw1==0);          
  80   3                                       cnt++;
  81   3                                      delay_ms(100);
  82   3                                              }
  83   2                                              if(sw4==0)
  84   2                                      {
  85   3                                              while(!sw4);
  86   3                                              secs=secs;      
  87   3                                      }
  88   2                                      if(cnt==1)
  89   2                                      goto hours;
  90   2      
  91   2                                      else if(cnt==2)
  92   2                                      goto minits;
  93   2      
  94   2                                      else if(cnt==3)
  95   2                                      goto seconds;
  96   2                                      
  97   2                                      else if(cnt==4)
  98   2                                              cnt=0;
  99   2                                              
 100   2      
 101   2                      }
 102   1      hours:
 103   1      if(sw2==0)
 104   1              {
 105   2                                      while(sw2==0);          
 106   2                                      hrs++;
 107   2              }
 108   1                      time();
 109   1                      
 110   1       if(sw3==0)
 111   1                      {
 112   2      
 113   2                                      while(sw3==0);          
 114   2                              hrs--;
 115   2                      }
 116   1                              time();
C51 COMPILER V7.08   TIMERCLOCK                                                            11/27/2013 13:51:23 PAGE 3   

 117   1                              goto main1;
 118   1      minits:
 119   1      
 120   1      if(sw2==0)
 121   1              {
 122   2                      while(sw2==0);
 123   2                      mins++;
 124   2              }
 125   1                      time();
 126   1       if(sw3==0)
 127   1              {
 128   2                      while(sw2==0);
 129   2                      mins--;
 130   2              }
 131   1                              time();
 132   1                              goto main1;
 133   1      
 134   1      
 135   1      seconds:
 136   1      
 137   1      if(sw2==0)
 138   1              {
 139   2                      while(sw2==0);
 140   2                      secs++;
 141   2              }
 142   1                      time();
 143   1       if(sw3==0)
 144   1              {
 145   2                      while(sw2==0);
 146   2                      secs--;
 147   2              }
 148   1                              time();
 149   1                              goto main1;
 150   1      
 151   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    304    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      3       2
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
