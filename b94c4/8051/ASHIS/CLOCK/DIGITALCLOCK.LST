C51 COMPILER V7.08   DIGITALCLOCK                                                          11/28/2013 15:23:21 PAGE 1   


C51 COMPILER V7.08, COMPILATION OF MODULE DIGITALCLOCK
OBJECT MODULE PLACED IN C:\ISP's\SP_ISP\DIGITALCLOCK.obj
COMPILER INVOKED BY: C:\Keil2\C51\BIN\C51.EXE DIGITALCLOCK.C BROWSE DEBUG OBJECTEXTEND OBJECT(C:\ISP's\SP_ISP\DIGITALCLO
                    -CK.obj)

line level    source

   1          #include<reg51.h>
   2          
   3          #include"lcd.c"
   4          
   5          sbit sw1=P3^0;
   6          sbit sw2=P3^1;
   7          sbit sw3=P3^2;
   8          sbit sw4=P3^3;
   9          
  10          unsigned char hrs=00 , mins=00, secs=00;
  11          void time()
  12          {
  13   1      
  14   1                      cmd_lcd(0x01);
  15   1                      disp_lcd((hrs/10)+48);
  16   1                      disp_lcd((hrs%10)+48); 
  17   1                      disp_lcd(':');
  18   1                      
  19   1                      disp_lcd((mins/10)+48);
  20   1                      disp_lcd((mins%10)+48);
  21   1                      disp_lcd(':');
  22   1                      
  23   1                      disp_lcd((secs/10)+48);
  24   1                      disp_lcd((secs%10)+48);
  25   1                      
  26   1      }
  27          main()
  28          {
  29   1              unsigned char cnt=0;
  30   1              init_lcd();
  31   1              cmd_lcd(0x80);
  32   1              while(1)
  33   1              {       
  34   2                      origin:
  35   2                      time();
  36   2                      delay_ms(982);
  37   2                      if(sw1==0)
  38   2                      {
  39   3                              cnt++;
  40   3                              goto time;
  41   3                      }
  42   2                      if(++secs>59)
  43   2                      {
  44   3                              secs=0;
  45   3                              if(++mins>59)
  46   3                              {
  47   4                                      mins=0;
  48   4                                      if(++hrs>23)
  49   4                                      {
  50   5                                      hrs=0;
  51   5                                      }                 
  52   4                              }
  53   3                      }
  54   2                      goto origin;
C51 COMPILER V7.08   DIGITALCLOCK                                                          11/28/2013 15:23:21 PAGE 2   

  55   2      time:
  56   2                      while(1)
  57   2                      {
  58   3                              time();
  59   3                              delay_ms(250);
  60   3                              if(cnt>3)
  61   3                                      cnt=1;
  62   3                              if(sw1==0)
  63   3                                      cnt++;
  64   3                              if(cnt==1)
  65   3                              {
  66   4                                      disp_lcd(hrs/10+48);
  67   4                                      disp_lcd(hrs%10+48);
  68   4                                      if(sw2==0)
  69   4                                      {
  70   5                                              if(hrs>24)
  71   5                                              hrs=0;
  72   5                                              hrs++;
  73   5                                      }
  74   4                                      if(sw3==0)
  75   4                                      {
  76   5                                              if(hrs<=0)
  77   5                                              hrs=23;
  78   5                                              hrs--;
  79   5                                      }
  80   4                                      if(sw4==0)
  81   4                                      {
  82   5                                              goto origin;
  83   5                                      }                                       
  84   4                              }
  85   3                              if(cnt==2)
  86   3                              {
  87   4                                      disp_lcd(mins/10+48);
  88   4                                      disp_lcd(mins%10+48);
  89   4                                      if(sw2==0)
  90   4                                      {
  91   5                                              if(mins>60)
  92   5                                              mins=0;
  93   5                                              mins++;
  94   5                                      }
  95   4                                      if(sw3==0)
  96   4                                      {
  97   5                                              if(mins<=0)
  98   5                                              mins=60;
  99   5                                              mins--;
 100   5                                      }
 101   4                                      if(sw4==0)
 102   4                                      {
 103   5                                              goto origin;
 104   5                                      }                                       
 105   4                              }
 106   3                              if(cnt==3)
 107   3                              {
 108   4                                      disp_lcd(secs/10+48);
 109   4                                      disp_lcd(secs%10+48);
 110   4                                      if(sw2==0)
 111   4                                      {
 112   5                                              if(secs>60)
 113   5                                              secs=0;
 114   5                                              secs++;
 115   5                                      }
 116   4                                      if(sw3==0)
C51 COMPILER V7.08   DIGITALCLOCK                                                          11/28/2013 15:23:21 PAGE 3   

 117   4                                      {
 118   5                                              if(secs<=0)
 119   5                                              secs=60;
 120   5                                              secs--;
 121   5                                      }
 122   4                                      if(sw4==0)
 123   4                                      {
 124   5                                              goto origin;
 125   5                                      }
 126   4                              }                                       
 127   3                      }
 128   2              }
 129   1      }     


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    412    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      3       1
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
