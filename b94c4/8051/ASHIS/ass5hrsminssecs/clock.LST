C51 COMPILER V7.08   CLOCK                                                                 11/29/2013 08:35:38 PAGE 1   


C51 COMPILER V7.08, COMPILATION OF MODULE CLOCK
OBJECT MODULE PLACED IN C:\ISP'S\SP_ISP\bin\dileep\clock.obj
COMPILER INVOKED BY: C:\Keil2\C51\BIN\C51.EXE clock.c BROWSE DEBUG OBJECTEXTEND OBJECT(C:\ISP'S\SP_ISP\bin\dileep\clock.
                    -obj)

line level    source

   1          #include<reg51.h>
   2          #include"lcd.h"
   3          #include"delay.h"
   4          unsigned char hrs=22,
   5                                    mins=49,
   6                                    secs=35;
   7          int cnt=0;
   8          
   9          sbit sw1=P3^4;
  10          sbit sw2=P3^5;
  11          sbit sw3=P3^6;
  12          sbit sw4=P3^7;
  13          //sbit sw5=P3^4;
  14          
  15          void time()
  16          {
  17   1       cmd_lcd(0x80);
  18   1       disp_lcd((hrs/10)+48);
  19   1       disp_lcd((hrs%10)+48);
  20   1       disp_lcd(':');
  21   1      
  22   1       disp_lcd((mins/10)+48);
  23   1       disp_lcd((mins%10)+48); 
  24   1       disp_lcd(':');
  25   1      
  26   1       disp_lcd((secs/10)+48);
  27   1       disp_lcd((secs%10)+48);
  28   1      // disp_lcd(':'); no colon here
  29   1      }
  30          
  31          //continue funtion
  32          
  33          
  34          //edit time function
  35          edit()
  36          {
  37   1              while(1)
  38   1              {
  39   2                              
  40   2                              if(sw1==0)
  41   2                              {
  42   3                              while(!sw1);
  43   3                              cnt++;
  44   3                              if(cnt>4)
  45   3                              cnt=0;
  46   3                              //delay_ms(984);
  47   3                              }
  48   2                              if(cnt==2)
  49   2                              {                       
  50   3                                                      if(sw1==0)
  51   3                                                      {
  52   4                                                      while(!sw1);
  53   4                                                      cnt++;
  54   4                                                      if(cnt>4)
C51 COMPILER V7.08   CLOCK                                                                 11/29/2013 08:35:38 PAGE 2   

  55   4                                                      cnt=0;
  56   4                                                      //delay_ms(984);
  57   4                                                      }
  58   3                                                      if(sw2==0)
  59   3                                                      {
  60   4                                                      while(!sw2);
  61   4                                                      ++hrs;
  62   4                                                      if(hrs>23)
  63   4                                                      hrs=0;
  64   4                                                      time();
  65   4                                                      //delay_ms(1000);
  66   4                                                      }
  67   3                                              
  68   3                                                      if(sw3==0)
  69   3                                                      {
  70   4                                                      
  71   4                                                      while(!sw3);
  72   4                                                      --hrs;
  73   4                                                      if(hrs>23)
  74   4                                                      hrs=0;
  75   4                                                      time();
  76   4                                                      //delay_ms(1000);
  77   4                                                      }
  78   3                                      }
  79   2                                      if(cnt==3)
  80   2                                      {       
  81   3                                                              if(sw1==0)
  82   3                                                              {
  83   4                                                              while(!sw1);
  84   4                                                              cnt++;
  85   4                                                              if(cnt>4)
  86   4                                                              cnt=0;
  87   4                                                              //delay_ms(984);
  88   4                                                              }
  89   3                                                              if( sw2==0)
  90   3                                                              {
  91   4                                                              
  92   4                                                              while(!sw2);
  93   4                                                              ++mins;
  94   4                                                              if(mins>59)
  95   4                                                              mins=0;
  96   4                                                              time();
  97   4                                                              }
  98   3                                                              
  99   3                                                              if( sw3==0)
 100   3                                                              {
 101   4                                                              while(!sw3);
 102   4                                                              --mins;
 103   4                                                              if(mins>59)
 104   4                                                              mins=0;
 105   4                                                              time();
 106   4                                                              }
 107   3                                              }
 108   2                                              if(cnt==4)
 109   2                                      {       
 110   3                                                              if(sw1==0)
 111   3                                                              {
 112   4                                                              while(!sw1);
 113   4                                                              cnt++;
 114   4                                                              if(cnt>4)
 115   4                                                              cnt=0;
 116   4                                                              //delay_ms(984);
C51 COMPILER V7.08   CLOCK                                                                 11/29/2013 08:35:38 PAGE 3   

 117   4                                                              }
 118   3                                                              if( sw2==0)
 119   3                                                              {
 120   4                                                              while(!sw2);
 121   4                                                              ++secs;
 122   4                                                              if(secs>59)
 123   4                                                              secs=0;
 124   4                                                              time();
 125   4                                                              }
 126   3                                                              if( sw3==0)
 127   3                                                              {
 128   4                                                              while(!sw3);
 129   4                                                              --secs;
 130   4                                                              if(secs>59)
 131   4                                                              secs=0;
 132   4                                                              time();
 133   4                                                              }
 134   3                                              }
 135   2                              if(sw4==0)
 136   2                              {
 137   3                                      while(!sw4);
 138   3                                      break;
 139   3                                      if(++secs>59)
 140   3                                      {
 141   4                                      //secs=secs-60;
 142   4                                      secs=0;
 143   4                                      
 144   4                                              if(++mins>59)
 145   4                                              {
 146   5                                              //mins=mins-60;
 147   5                                              mins=0;
 148   5                                              
 149   5                                                      if(++hrs>23)
 150   5                                                      {
 151   6                                                      //hrs=hrs-24;
 152   6                                                      hrs=0;
 153   6                                                      }
 154   5                                              }
 155   4                                      }
 156   3                              }
 157   2                      }
 158   1      
 159   1      }
 160          
 161          
 162          main()
 163          {
 164   1      
 165   1      init_lcd();
 166   1      time();
 167   1      
 168   1              while(1)
 169   1              {
 170   2      
 171   2              time();
 172   2              delay_ms(980);
 173   2                              if(++secs>59)
 174   2                              {
 175   3                              //secs=secs-60;
 176   3                              secs=0;
 177   3                              
 178   3                                      if(++mins>59)
C51 COMPILER V7.08   CLOCK                                                                 11/29/2013 08:35:38 PAGE 4   

 179   3                                      {
 180   4                                      //mins=mins-60;
 181   4                                      mins=0;
 182   4                                      
 183   4                                              if(++hrs>23)
 184   4                                              {
 185   5                                              //hrs=hrs-24;
 186   5                                              hrs=0;
 187   5                                              }
 188   4                                      }
 189   3                              }
 190   2              
 191   2                      if(sw1==0)
 192   2                      {
 193   3                      while(!sw1);
 194   3                      cnt++;
 195   3                      if(cnt>4)
 196   3                              cnt=0;
 197   3                      edit();
 198   3                      //delay_ms(984);
 199   3                      }
 200   2              
 201   2              }
 202   1      }
 203          
 204          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    460    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      5    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
