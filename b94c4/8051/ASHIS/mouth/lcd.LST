C51 COMPILER V7.08   LCD                                                                   11/18/2013 15:51:04 PAGE 1   


C51 COMPILER V7.08, COMPILATION OF MODULE LCD
OBJECT MODULE PLACED IN C:\ISP's\ISP's\SP_ISP\bin\Debug\lcd.obj
COMPILER INVOKED BY: C:\Keil2\C51\BIN\C51.EXE lcd.c BROWSE DEBUG OBJECTEXTEND OBJECT(C:\ISP's\ISP's\SP_ISP\bin\Debug\lcd
                    -.obj)

line level    source

   1          #include<reg51.h>
   2          #include"delay.h"
   3          #define lcd_dat P0
   4          sbit rs=P2^0;
   5          sbit rw=P2^1;
   6          sbit en=P2^2;
   7          void write_lcd(unsigned char dat)
   8          {
   9   1      lcd_dat=dat;
  10   1      
  11   1      rw=0;
  12   1      en=1;
  13   1      delay_ms(2);
  14   1      en=0;
  15   1      }
  16          void cmd_lcd(unsigned char cmd)
  17          {
  18   1      rs=0;
  19   1      write_lcd(cmd);
  20   1      }
  21          void disp_lcd(unsigned char c)
  22          {
  23   1      rs=1;
  24   1      write_lcd(c);
  25   1      }
  26          void init_lcd(void)
  27          {
  28   1      cmd_lcd(0x01);
  29   1      cmd_lcd(0x02);
  30   1      cmd_lcd(0x06);
  31   1      cmd_lcd(0X0C);
  32   1      cmd_lcd(0X38);
  33   1      cmd_lcd(0x80);
  34   1      }
  35          
  36          void unit_lcd(unsigned int n)
  37          {
  38   1      char a[5]={0};
  39   1      int i=0;
  40   1      if(n==0)
  41   1      disp_lcd('0');
  42   1      else
  43   1      {
  44   2      while(n>0)
  45   2      {
  46   3      a[i++]=(n%10)+48;
  47   3      n=n/10;
  48   3      }
  49   2      }
  50   1      for(--i;i>=0;i--)
  51   1      disp_lcd(a[i]);
  52   1      }
  53          
  54          void str_lcd(unsigned char *s)
C51 COMPILER V7.08   LCD                                                                   11/18/2013 15:51:04 PAGE 2   

  55          {
  56   1      while(*s)
  57   1      disp_lcd(*s++);
  58   1      }
  59          void build_cgram(char *s,unsigned char n)
  60          {
  61   1      unsigned char i;
  62   1      //cmd_lcd(0x01);
  63   1      cmd_lcd(0x40);
  64   1      for(i=0;i<n;i++)
  65   1      {
  66   2      disp_lcd(s[i]);
  67   2      }
  68   1      
  69   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    276    ----
   CONSTANT SIZE    =      5    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      17
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
