#include"headers.h"
main(int argc,char **argv)
{
int sfd,cfd;
struct sockaddr_in saddr,caddr;
sfd=socket(AF_INET,SOCK_DGRAM,0);


saddr.sin_family=PF_INET;
saddr.sin_port=htons(atoi(argv[1]));
saddr.sin_addr.s_addr=inet_addr("0.0.0.0");

bind(sfd,(struct sockaddr *)&saddr,sizeof(saddr));

listen(sfd,2);


while(1)
{
while(1)
{
int clen=sizeof(caddr);
char buff[100],c;
recvfrom(sfd,buff,100,0,(struct sockaddr *)&caddr,&clen);
printf("data : %s\n",buff);
int i=0,j=strlen(buff)-1;
for(i=0;i<j;i++,j--)
{
c=buff[i];
buff[i]=buff[j];
buff[j]=c;

}

sendto(sfd,buff,strlen(buff)+1,0,(struct sockaddr *)&caddr,clen);
puts("sent\n");

}
}
}




